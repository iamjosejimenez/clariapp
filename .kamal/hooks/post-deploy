#!/bin/bash
set -euo pipefail

echo "ðŸ§¹ Starting Docker cleanup..."

# Delete all stopped containers
echo "ðŸ§¼ Removing stopped containers..."
docker container prune -f

# Delete all dangling (unused) images
echo "ðŸ§¼ Removing dangling Docker images..."
docker image prune -f

# Delete old images except the ones currently used
echo "ðŸ§¼ Removing unused Docker images (excluding current ones)..."
docker image prune -a -f --filter "until=24h"

# Delete dangling volumes
echo "ðŸ§¼ Removing dangling volumes..."
docker volume prune -f

# Delete unused networks
echo "ðŸ§¼ Removing unused networks..."
docker network prune -f

# Optional: Clean any temporary files
echo "ðŸ§¼ Removing temporary build/cache files (optional)..."
rm -rf /tmp/* || true

echo "âœ… Docker cleanup complete!"
